{"version":3,"file":"sedeh-gallery-lift.js.map","sources":["ng://@sedeh/gallery-lift/src/app/gallery-lift/gallery-lift.component.ts","ng://@sedeh/gallery-lift/src/app/gallery-lift/gallery-lift.module.ts"],"sourcesContent":["\r\nimport {\r\n  Component,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'gallery-lift',\r\n  templateUrl: './gallery-lift.component.html',\r\n  styleUrls: ['./gallery-lift.component.scss'],\r\n})\r\nexport class GalleryLiftComponent implements OnChanges {\r\n  layList = [1];\r\n  displayType = 'c1';\r\n  selectedIndex = 0;\r\n  liftup = false;\r\n  focused = false;\r\n  expanded = false;\r\n  \r\n  @Output() onselect= new EventEmitter()\r\n  @Output() onaction= new EventEmitter()\r\n\r\n  @Input() sideBySide = true;\r\n  @Input() liftOnZero = false;\r\n  @Input() showRemainingCount = false;\r\n  @Input() showTitleOnHover = false;\r\n  @Input() showMessageOnHover = true;\r\n  @Input() gallery: any[];\r\n  @Input() template: any;\r\n  @Input() maxHeight = 400;\r\n  @Input() hoverMessage = 'See more...';\r\n  @Input() layout = 'large-on-single';\r\n  \r\n  constructor() {\r\n    if (navigator.platform.toUpperCase().indexOf('MAC')<0) {\r\n      document.addEventListener(\"webkitfullscreenchange\", (event: Event) => {\r\n        if(!window.screenTop && !window.screenY) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n      document.addEventListener(\"mozfullscreenchange\", (event: Event) => {\r\n        const win: any = window;\r\n        const isFullScreen = win.fullScreen ||\r\n                            (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n        if(!isFullScreen) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n      document.addEventListener(\"MSFullscreenChange\", (event: Event) => {\r\n        const win: any = window;\r\n        const isFullScreen = win.fullScreen ||\r\n                            (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n        if(!isFullScreen) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  ngOnChanges(changes: any) {\r\n    if (changes.layout) {\r\n      switch(this.layout) {\r\n        case 'large-on-single': this.displayType = 'c1';this.layList = [1]; break;\r\n        case 'split-on-dual': this.displayType = 'c2';this.layList = [1,2]; break;\r\n        case 'large-on-right': this.displayType = 'c3';this.layList = [1,2,3]; break;\r\n        case 'split-on-quadruple': this.displayType = 'c4';this.layList = [1,2,3,4]; break;\r\n        case 'large-on-middle': this.displayType = 'c5';this.layList = [1,2,3,4,5]; break;\r\n        case 'large-on-left': this.displayType = 'rc3';this.layList = [1,2,3]; break;\r\n        case 'large-on-sides': this.displayType = 'rc4';this.layList = [1,2,3,4]; break;\r\n      }\r\n    }\r\n  }\r\n  maxHeightOf(index: number) {\r\n    let max = this.maxHeight;\r\n    switch(this.layout) {\r\n      case 'large-on-single': break;\r\n      case 'split-on-dual': break;\r\n      case 'large-on-right': \r\n        max = index < 2 ? (this.maxHeight / 2): max;\r\n        break;\r\n      case 'split-on-quadruple': max = this.maxHeight / 2; break;\r\n      case 'large-on-middle':\r\n        max = index === 2 ? max : (this.maxHeight / 2);\r\n        break;\r\n      case 'large-on-left': \r\n        max = index === 0 ? max : (this.maxHeight / 2);\r\n        break;\r\n      case 'large-on-sides': \r\n        max = (index === 0 || index === 3) ? max : (this.maxHeight / 2);\r\n        break;\r\n    }\r\n    return max + 'px';\r\n  }\r\n  liftUpImagery(index: number) {\r\n    this.selectedIndex = this.liftOnZero ? 0 : index;\r\n    this.liftup = true;\r\n    this.onselect.emit({\r\n      index: this.selectedIndex,\r\n      action: 'lift up'\r\n    });\r\n  }\r\n  liftDownImagery() {\r\n    if (this.expanded) {\r\n      this.fullScreen();\r\n    }\r\n    this.liftup = false;\r\n    this.focused = false\r\n    this.onselect.emit({\r\n      index: this.selectedIndex,\r\n      action: 'lift down'\r\n    });\r\n  }\r\n  fullScreen() {\r\n    const doc: any = document;\r\n    this.expanded = !this.expanded;\r\n    if (this.expanded) {\r\n      const element: any = doc.documentElement;\r\n      if(element.requestFullscreen) {\r\n        element.requestFullscreen();\r\n      } else if(element.mozRequestFullScreen) {\r\n        element.mozRequestFullScreen();\r\n      } else if(element.webkitRequestFullscreen) {\r\n        element.webkitRequestFullscreen();\r\n      } else if(element.msRequestFullscreen) {\r\n        element.msRequestFullscreen();\r\n      }\r\n    } else {\r\n      if(doc.exitFullscreen) {\r\n        doc.exitFullscreen();\r\n      } else if(doc.mozCancelFullScreen) {\r\n        doc.mozCancelFullScreen();\r\n      } else if(doc.webkitExitFullscreen) {\r\n        doc.webkitExitFullscreen();\r\n      }\r\n    }\r\n  }\r\n  previous() {\r\n    this.selectedIndex = this.selectedIndex - 1;\r\n    this.onaction.emit({\r\n      action: \"view previous\",\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n  }\r\n  next() {\r\n    this.selectedIndex = this.selectedIndex + 1;\r\n    this.onaction.emit({\r\n      action: \"view next\",\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n  }\r\n  videoEvent(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n      time: new Date(),\r\n      item: {\r\n        autoplay: event.target.autoplay,\r\n        controls: event.target.controls,\r\n        duration: event.target.duration,\r\n        ended: event.target.ended,\r\n        error: event.target.error,\r\n        paused: event.target.paused,\r\n        muted: event.target.muted,\r\n        currentTime: event.target.currentTime,\r\n        volume: event.target.volume\r\n      }\r\n    });\r\n  }\r\n  hoverOver(event: any) {\r\n\t\tthis.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n\t}\r\n\thoverOut(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n      time: new Date()\r\n    });\r\n\t}\r\n\r\n  showMore(closeButton) {\r\n    if (!this.focused) {\r\n      this.focused = true;\r\n      closeButton.focus();\r\n    }\r\n    return this.selectedIndex < this.gallery.length - 1;\r\n  }\r\n  keyup(event: any) {\r\n\t\tconst code = event.which;\r\n\t\tif (code === 13) {\r\n      event.target.click();\r\n    }\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { GalleryLiftComponent } from './gallery-lift.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    GalleryLiftComponent\r\n  ],\r\n  exports: [\r\n    GalleryLiftComponent\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class GalleryLiftModule {}\r\n"],"names":[],"mappings":"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"}
