{"version":3,"sources":["ng://@sedeh/gallery-lift/src/app/gallery-lift/gallery-lift.component.ts","ng://@sedeh/gallery-lift/src/app/gallery-lift/gallery-lift.module.ts"],"names":["GalleryLiftComponent","_this","this","EventEmitter","navigator","platform","toUpperCase","indexOf","document","addEventListener","event","window","screenTop","screenY","fullScreen","win","innerWidth","screen","width","innerHeight","height","prototype","ngOnChanges","changes","layout","displayType","layList","maxHeightOf","index","max","maxHeight","liftUpImagery","selectedIndex","liftOnZero","liftup","onselect","emit","action","liftDownImagery","expanded","focused","doc","element","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","previous","onaction","time","Date","next","videoEvent","type","item","autoplay","target","controls","duration","ended","error","paused","muted","currentTime","volume","hoverOver","hoverOut","showMore","closeButton","focus","gallery","length","keyup","which","click","Component","args","selector","template","Output","Input","GalleryLiftModule","NgModule","imports","CommonModule","declarations","exports","entryComponents","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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","sourcesContent":["\r\nimport {\r\n  Component,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'gallery-lift',\r\n  templateUrl: './gallery-lift.component.html',\r\n  styleUrls: ['./gallery-lift.component.scss'],\r\n})\r\nexport class GalleryLiftComponent implements OnChanges {\r\n  layList = [1];\r\n  displayType = 'c1';\r\n  selectedIndex = 0;\r\n  liftup = false;\r\n  focused = false;\r\n  expanded = false;\r\n  \r\n  @Output() onselect= new EventEmitter()\r\n  @Output() onaction= new EventEmitter()\r\n\r\n  @Input() sideBySide = true;\r\n  @Input() liftOnZero = false;\r\n  @Input() showRemainingCount = false;\r\n  @Input() showTitleOnHover = false;\r\n  @Input() showMessageOnHover = true;\r\n  @Input() gallery: any[];\r\n  @Input() template: any;\r\n  @Input() maxHeight = 400;\r\n  @Input() hoverMessage = 'See more...';\r\n  @Input() layout = 'large-on-single';\r\n  \r\n  constructor() {\r\n    if (navigator.platform.toUpperCase().indexOf('MAC')<0) {\r\n      document.addEventListener(\"webkitfullscreenchange\", (event: Event) => {\r\n        if(!window.screenTop && !window.screenY) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n      document.addEventListener(\"mozfullscreenchange\", (event: Event) => {\r\n        const win: any = window;\r\n        const isFullScreen = win.fullScreen ||\r\n                            (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n        if(!isFullScreen) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n      document.addEventListener(\"MSFullscreenChange\", (event: Event) => {\r\n        const win: any = window;\r\n        const isFullScreen = win.fullScreen ||\r\n                            (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n        if(!isFullScreen) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  ngOnChanges(changes: any) {\r\n    if (changes.layout) {\r\n      switch(this.layout) {\r\n        case 'large-on-single': this.displayType = 'c1';this.layList = [1]; break;\r\n        case 'split-on-dual': this.displayType = 'c2';this.layList = [1,2]; break;\r\n        case 'large-on-right': this.displayType = 'c3';this.layList = [1,2,3]; break;\r\n        case 'split-on-quadruple': this.displayType = 'c4';this.layList = [1,2,3,4]; break;\r\n        case 'large-on-middle': this.displayType = 'c5';this.layList = [1,2,3,4,5]; break;\r\n        case 'large-on-left': this.displayType = 'rc3';this.layList = [1,2,3]; break;\r\n        case 'large-on-sides': this.displayType = 'rc4';this.layList = [1,2,3,4]; break;\r\n      }\r\n    }\r\n  }\r\n  maxHeightOf(index: number) {\r\n    let max = this.maxHeight;\r\n    switch(this.layout) {\r\n      case 'large-on-single': break;\r\n      case 'split-on-dual': break;\r\n      case 'large-on-right': \r\n        max = index < 2 ? (this.maxHeight / 2): max;\r\n        break;\r\n      case 'split-on-quadruple': max = this.maxHeight / 2; break;\r\n      case 'large-on-middle':\r\n        max = index === 2 ? max : (this.maxHeight / 2);\r\n        break;\r\n      case 'large-on-left': \r\n        max = index === 0 ? max : (this.maxHeight / 2);\r\n        break;\r\n      case 'large-on-sides': \r\n        max = (index === 0 || index === 3) ? max : (this.maxHeight / 2);\r\n        break;\r\n    }\r\n    return max + 'px';\r\n  }\r\n  liftUpImagery(index: number) {\r\n    this.selectedIndex = this.liftOnZero ? 0 : index;\r\n    this.liftup = true;\r\n    this.onselect.emit({\r\n      index: this.selectedIndex,\r\n      action: 'lift up'\r\n    });\r\n  }\r\n  liftDownImagery() {\r\n    if (this.expanded) {\r\n      this.fullScreen();\r\n    }\r\n    this.liftup = false;\r\n    this.focused = false\r\n    this.onselect.emit({\r\n      index: this.selectedIndex,\r\n      action: 'lift down'\r\n    });\r\n  }\r\n  fullScreen() {\r\n    const doc: any = document;\r\n    this.expanded = !this.expanded;\r\n    if (this.expanded) {\r\n      const element: any = doc.documentElement;\r\n      if(element.requestFullscreen) {\r\n        element.requestFullscreen();\r\n      } else if(element.mozRequestFullScreen) {\r\n        element.mozRequestFullScreen();\r\n      } else if(element.webkitRequestFullscreen) {\r\n        element.webkitRequestFullscreen();\r\n      } else if(element.msRequestFullscreen) {\r\n        element.msRequestFullscreen();\r\n      }\r\n    } else {\r\n      if(doc.exitFullscreen) {\r\n        doc.exitFullscreen();\r\n      } else if(doc.mozCancelFullScreen) {\r\n        doc.mozCancelFullScreen();\r\n      } else if(doc.webkitExitFullscreen) {\r\n        doc.webkitExitFullscreen();\r\n      }\r\n    }\r\n  }\r\n  previous() {\r\n    this.selectedIndex = this.selectedIndex - 1;\r\n    this.onaction.emit({\r\n      action: \"view previous\",\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n  }\r\n  next() {\r\n    this.selectedIndex = this.selectedIndex + 1;\r\n    this.onaction.emit({\r\n      action: \"view next\",\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n  }\r\n  videoEvent(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n      time: new Date(),\r\n      item: {\r\n        autoplay: event.target.autoplay,\r\n        controls: event.target.controls,\r\n        duration: event.target.duration,\r\n        ended: event.target.ended,\r\n        error: event.target.error,\r\n        paused: event.target.paused,\r\n        muted: event.target.muted,\r\n        currentTime: event.target.currentTime,\r\n        volume: event.target.volume\r\n      }\r\n    });\r\n  }\r\n  hoverOver(event: any) {\r\n\t\tthis.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n\t}\r\n\thoverOut(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n      time: new Date()\r\n    });\r\n\t}\r\n\r\n  showMore(closeButton) {\r\n    if (!this.focused) {\r\n      this.focused = true;\r\n      closeButton.focus();\r\n    }\r\n    return this.selectedIndex < this.gallery.length - 1;\r\n  }\r\n  keyup(event: any) {\r\n\t\tconst code = event.which;\r\n\t\tif (code === 13) {\r\n      event.target.click();\r\n    }\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { GalleryLiftComponent } from './gallery-lift.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    GalleryLiftComponent\r\n  ],\r\n  exports: [\r\n    GalleryLiftComponent\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class GalleryLiftModule {}\r\n"]}