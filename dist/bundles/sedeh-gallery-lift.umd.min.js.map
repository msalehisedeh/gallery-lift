{"version":3,"sources":["ng://@sedeh/gallery-lift/src/app/gallery-lift/gallery-lift.component.ts","ng://@sedeh/gallery-lift/src/app/gallery-lift/gallery-lift.module.ts"],"names":["GalleryLiftComponent","el","cdr","_this","this","undefined","EventEmitter","host","nativeElement","navigator","platform","toUpperCase","indexOf","document","addEventListener","event","window","screenTop","screenY","fullScreen","win","innerWidth","screen","width","innerHeight","height","prototype","ngOnChanges","changes","gallery","layout","pickRandomLayout","displayType","layList","maxHeight","detectChanges","clientHeight","range","min","max","Math","floor","random","length","minHeightOf","index","maxHeightOf","liftUpImagery","selectedIndex","liftOnZero","liftup","onselect","emit","action","liftDownImagery","expanded","focused","magnify","liftView","magnified","style","clientWidth","children","top","left","doc","element","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","evalTop","previous","loaded","onaction","time","Date","next","videoEvent","type","item","autoplay","target","controls","duration","ended","error","paused","muted","currentTime","volume","touchHover","hoverOver","hoverOut","showMore","closeButton","focus","keyup","which","click","isMobile","Component","args","selector","template","ElementRef","ChangeDetectorRef","Output","Input","GalleryLiftModule","NgModule","imports","CommonModule","declarations","exports","entryComponents","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"oWACA,IAAAA,EAAA,WA4CE,SAAAA,EAAYC,EAAwBC,GAApC,IAAAC,EAAAC,KAAoCA,KAAAF,IAAAA,eA3B1B,CAAC,gBACF,mBACK,wBACE,YACTG,0BACK,eACH,gBACC,iBACC,gBAES,IAAIC,EAAAA,2BACJ,IAAIA,EAAAA,8BAEF,mBACA,2BACQ,yBACF,2BACE,4BACC,oBAGP,oBACH,uBACI,yBACD,0BACN,kBAGhBF,KAAKG,KAAON,EAAGO,cACXC,UAAUC,SAASC,cAAcC,QAAQ,OAAO,IAClDC,SAASC,iBAAiB,yBAA0B,SAACC,GAC/CC,OAAOC,WAAcD,OAAOE,SAC9Bf,EAAKgB,eAGTN,SAASC,iBAAiB,sBAAuB,SAACC,GAChD,IAAMK,EAAWJ,OACII,EAAID,YACJC,EAAIC,YAAcC,OAAOC,OAASH,EAAII,aAAeF,OAAOG,QAE/EtB,EAAKgB,eAGTN,SAASC,iBAAiB,qBAAsB,SAACC,GAC/C,IAAMK,EAAWJ,OACII,EAAID,YACJC,EAAIC,YAAcC,OAAOC,OAASH,EAAII,aAAeF,OAAOG,QAE/EtB,EAAKgB,uBAKbnB,EAAA0B,UAAAC,YAAA,SAAYC,GACV,GAAIA,EAAQC,SAA2B,WAAhBzB,KAAK0B,OAC1B1B,KAAK2B,wBACA,GAAIH,EAAQE,OACjB,OAAO1B,KAAK0B,QACV,IAAK,kBAAmB1B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,GAAI,MACpE,IAAK,gBAAiB7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAE,GAAI,MACpE,IAAK,iBAAkB7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,GAAI,MACvE,IAAK,qBAAsB7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,GAAI,MAC7E,IAAK,kBAAmB7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,EAAE,GAAI,MAC5E,IAAK,gBAAiB7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,GAAI,MACvE,IAAK,iBAAkB7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,GAAI,MAC1E,IAAK,eAAgB7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,GAAI,MACtE,IAAK,sBAAuB7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,GAAI,MAC/E,IAAK,yBAA0B7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,EAAE,GAAI,MACpF,IAAK,oBAAqB7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,GAAI,MAC7E,IAAK,qBAAsB7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAE,EAAE,EAAE,EAAE,GAAI,MAChF,IAAK,SACC7B,KAAKyB,SACPzB,KAAK2B,wBAIFH,EAAQM,YACb9B,KAAK8B,UAAY,KACnB9B,KAAK8B,UAAY,IACjB9B,KAAKF,IAAIiC,iBACyB,IAAzB/B,KAAKG,KAAK6B,cAAsBhC,KAAKG,KAAK6B,aAAehC,KAAK8B,YACvE9B,KAAK8B,UAAY9B,KAAKG,KAAK6B,aAC3BhC,KAAKF,IAAIiC,mBAIPnC,EAAA0B,UAAAW,eAAMC,EAAaC,GACzB,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,IAAMA,GAE/CtC,EAAA0B,UAAAK,4BACN,GAA4B,IAAxB3B,KAAKyB,QAAQc,OACfvC,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,QACnC,GAA4B,IAAxB7B,KAAKyB,QAAQc,OACtB,OAAOvC,KAAKiC,MAAM,EAAE,IAClB,KAAK,EAAGjC,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,GAAG,MACnD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,QAEhD,GAA4B,IAAxB7B,KAAKyB,QAAQc,OACtB,OAAOvC,KAAKiC,MAAM,EAAE,IAClB,KAAK,EAAGjC,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,GAAG,MACnD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,GAAG,MACtD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MACzD,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MAC1D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,QAEpD,GAA4B,IAAxB7B,KAAKyB,QAAQc,OACtB,OAAOvC,KAAKiC,MAAM,EAAE,IAClB,KAAK,EAAGjC,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,GAAG,MACnD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,GAAG,MACtD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MACzD,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MAC1D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MAC1D,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC5D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC7D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC7D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,QAEvD,GAA2B,GAAvB7B,KAAKyB,QAAQc,OACtB,OAAOvC,KAAKiC,MAAM,EAAE,KAClB,KAAK,EAAGjC,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,GAAG,MACnD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,GAAG,MACtD,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MACzD,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MAC1D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,GAAG,MAC1D,KAAK,EAAG7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC5D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC7D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC7D,KAAK,EAAG7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG,MAC7D,KAAK,GAAI7B,KAAK4B,YAAc,KAAK5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,EAAG,GAAG,MAChE,KAAK,GAAI7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,EAAG,GAAG,MACjE,KAAK,GAAI7B,KAAK4B,YAAc,MAAM5B,KAAK6B,QAAU,CAAC,EAAG,EAAG,EAAG,EAAG,KAIpEjC,EAAA0B,UAAAkB,YAAA,SAAYC,GACV,IAAIP,EAAM,KACV,OAAOlC,KAAK4B,aACV,IAAK,KAAOM,EAAMlC,KAAK8B,UAEzB,OAAOI,EAAOA,EAAM,KAAO,MAE7BtC,EAAA0B,UAAAoB,YAAA,SAAYD,GACV,IAAIN,EAAMnC,KAAK8B,UACf,OAAO9B,KAAK4B,aACV,IAAK,MACL,IAAK,MACHO,EAAMnC,KAAK8B,UAAY,EACvB,MACF,IAAK,MACL,IAAK,MACL,IAAK,MACHK,EAAMnC,KAAK8B,UAAY,EACvB,MACF,IAAK,KACL,IAAK,KAAM,MACX,IAAK,KACHK,EAAMM,EAAQ,EAAKzC,KAAK8B,UAAY,EAAIK,EACxC,MACF,IAAK,KACHA,EAAMnC,KAAK8B,UAAY,EAAG,MAC5B,IAAK,KACHK,EAAgB,IAAVM,EAAcN,EAAOnC,KAAK8B,UAAY,EAC5C,MACF,IAAK,MACHK,EAAgB,IAAVM,EAAcN,EAAOnC,KAAK8B,UAAY,EAC5C,MACF,IAAK,MACHK,EAAiB,IAAVM,GAAyB,IAAVA,EAAeN,EAAOnC,KAAK8B,UAAY,EAGjE,OAAOK,EAAM,MAEfvC,EAAA0B,UAAAqB,cAAA,SAAcF,GACZzC,KAAK4C,cAAgB5C,KAAK6C,WAAa,EAAIJ,EAC3CzC,KAAK8C,QAAS,EACd9C,KAAK+C,SAASC,KAAK,CACjBP,MAAOzC,KAAK4C,cACZK,OAAQ,aAGZrD,EAAA0B,UAAA4B,gBAAA,WACMlD,KAAKmD,UACPnD,KAAKe,aAEPf,KAAK8C,QAAS,EACd9C,KAAKoD,SAAU,EACfpD,KAAK+C,SAASC,KAAK,CACjBP,MAAOzC,KAAK4C,cACZK,OAAQ,eAGZrD,EAAA0B,UAAA+B,QAAA,SAAQC,GACNtD,KAAKuD,WAAavD,KAAKuD,UACnBvD,KAAKuD,WACPD,EAASE,MAAMrC,MAAQmC,EAASG,YAAc,KAC9CH,EAASE,MAAMnC,OAASiC,EAAStB,aAAe,KAChDsB,EAASI,SAAS,GAAGF,MAAMrC,MAAQ,OACnCmC,EAASI,SAAS,GAAGF,MAAMnC,OAAS,SAEpCiC,EAASI,SAAS,GAAGF,MAAMrC,MAAQ,OACnCmC,EAASI,SAAS,GAAGF,MAAMnC,OAAS,OACpCiC,EAASI,SAAS,GAAGF,MAAMG,IAAM,MACjCL,EAASI,SAAS,GAAGF,MAAMI,KAAO,QAGtChE,EAAA0B,UAAAP,WAAA,WACE,IAAM8C,EAAWpD,SAEjB,GADAT,KAAKmD,UAAYnD,KAAKmD,SAClBnD,KAAKmD,SAAU,CACjB,IAAMW,EAAeD,EAAIE,gBACtBD,EAAQE,kBACTF,EAAQE,oBACAF,EAAQG,qBAChBH,EAAQG,uBACAH,EAAQI,wBAChBJ,EAAQI,0BACAJ,EAAQK,qBAChBL,EAAQK,2BAGPN,EAAIO,eACLP,EAAIO,iBACIP,EAAIQ,oBACZR,EAAIQ,sBACIR,EAAIS,sBACZT,EAAIS,wBAIV1E,EAAA0B,UAAAiD,QAAA,WACE,IAAIpC,EAAMnC,KAAK8B,UACf,OAAO9B,KAAK4B,aACV,IAAK,MACL,IAAK,MACHO,EAAOA,EAAM,EAAK,GAClB,MACF,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACHA,EAAOA,EAAM,EAAK,GAClB,MACF,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACHA,EAAOA,EAAM,EAAK,GAGtB,OAAOA,EAAM,MAEfvC,EAAA0B,UAAAkD,SAAA,WACExE,KAAKyE,QAAS,EACdzE,KAAKF,IAAIiC,gBACT/B,KAAK4C,cAAqC,EAArB5C,KAAK4C,cAAoB5C,KAAK4C,cAAgB,EAAI5C,KAAKyB,QAAQc,OAAS,EAC7FvC,KAAKyE,QAAS,EACdzE,KAAKF,IAAIiC,gBACT/B,KAAK0E,SAAS1B,KAAK,CACjBC,OAAQ,gBACRR,MAAOzC,KAAK4C,cACf+B,KAAM,IAAIC,QAGXhF,EAAA0B,UAAAuD,KAAA,WACE7E,KAAKyE,QAAS,EACdzE,KAAKF,IAAIiC,gBACT/B,KAAK4C,cAAgB5C,KAAK4C,cAAgB5C,KAAKyB,QAAQc,OAAS,EAAIvC,KAAK4C,cAAgB,EAAI,EAC7F5C,KAAKyE,QAAS,EACdzE,KAAKF,IAAIiC,gBACT/B,KAAK0E,SAAS1B,KAAK,CACjBC,OAAQ,YACRR,MAAOzC,KAAK4C,cACf+B,KAAM,IAAIC,QAGXhF,EAAA0B,UAAAwD,WAAA,SAAWnE,GACTX,KAAK0E,SAAS1B,KAAK,CACjBC,OAAQtC,EAAMoE,KACdtC,MAAOzC,KAAK4C,cACZ+B,KAAM,IAAIC,KACVI,KAAM,CACJC,SAAUtE,EAAMuE,OAAOD,SACvBE,SAAUxE,EAAMuE,OAAOC,SACvBC,SAAUzE,EAAMuE,OAAOE,SACvBC,MAAO1E,EAAMuE,OAAOG,MACpBC,MAAO3E,EAAMuE,OAAOI,MACpBC,OAAQ5E,EAAMuE,OAAOK,OACrBC,MAAO7E,EAAMuE,OAAOM,MACpBC,YAAa9E,EAAMuE,OAAOO,YAC1BC,OAAQ/E,EAAMuE,OAAOQ,WAI3B9F,EAAA0B,UAAAqE,WAAA,SAAWhF,GACXX,KAAK0E,SAAS1B,KAAK,CACfC,OAAQtC,EAAMoE,KACdtC,MAAOzC,KAAK4C,cACf+B,KAAM,IAAIC,QAGXhF,EAAA0B,UAAAsE,UAAA,SAAUjF,GACRX,KAAK0E,SAAS1B,KAAK,CACjBC,OAAQtC,EAAMoE,KACdtC,MAAOzC,KAAK4C,cACf+B,KAAM,IAAIC,QAGZhF,EAAA0B,UAAAuE,SAAA,SAASlF,GACNX,KAAK0E,SAAS1B,KAAK,CACjBC,OAAQtC,EAAMoE,KACdtC,MAAOzC,KAAK4C,cACZ+B,KAAM,IAAIC,QAIdhF,EAAA0B,UAAAwE,SAAA,SAASC,GAKP,OAJK/F,KAAKoD,UACRpD,KAAKoD,SAAU,EACf2C,EAAYC,UAEP,GAETpG,EAAA0B,UAAA2E,MAAA,SAAMtF,GAEO,KADAA,EAAMuF,OAEfvF,EAAMuE,OAAOiB,SAGTvG,EAAA0B,UAAA8E,oBACN,OAAO,uBAjVVC,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,eACVC,SAAA,w5eARAC,EAAAA,kBACAC,EAAAA,uDAqBCC,EAAAA,yBACAA,EAAAA,2BAEAC,EAAAA,0BACAA,EAAAA,kCACAA,EAAAA,gCACAA,EAAAA,kCACAA,EAAAA,mCACAA,EAAAA,uBACAA,EAAAA,wBACAA,EAAAA,4BACAA,EAAAA,yBACAA,EAAAA,6BACAA,EAAAA,4BACAA,EAAAA,sBACAA,EAAAA,WA1CH,GCDAC,EAAA,oDAKCC,EAAAA,SAAQR,KAAA,CAAC,CACRS,QAAS,CACPC,EAAAA,cAEFC,aAAc,CACZrH,GAEFsH,QAAS,CACPtH,GAEFuH,gBAAiB,GAEjBC,QAAS,CAACC,EAAAA,8BAjBZ","sourcesContent":["\r\nimport {\r\n  Component,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  ElementRef,\r\n  ChangeDetectorRef,\r\n  EventEmitter,\r\n  MissingTranslationStrategy\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'gallery-lift',\r\n  templateUrl: './gallery-lift.component.html',\r\n  styleUrls: ['./gallery-lift.component.scss'],\r\n})\r\nexport class GalleryLiftComponent implements OnChanges {\r\n  layList = [1];\r\n  loaded = true;\r\n  displayType = 'c1';\r\n  selectedIndex = 0;\r\n  host = undefined;\r\n  magnified = false;\r\n  liftup = false;\r\n  focused = false;\r\n  expanded = false;\r\n  \r\n  @Output() onselect= new EventEmitter()\r\n  @Output() onaction= new EventEmitter()\r\n\r\n  @Input() sideBySide = true;\r\n  @Input() liftOnZero = false;\r\n  @Input() showRemainingCount = false;\r\n  @Input() showTitleOnHover = false;\r\n  @Input() showMessageOnHover = true;\r\n  @Input() magnifyImageEnabled = false;\r\n  @Input() gallery: any[];\r\n  @Input() template: any;\r\n  @Input() borderOnView = null;\r\n  @Input() maxHeight = 400;\r\n  @Input() animationType = 'none';\r\n  @Input() hoverMessage = 'See more...';\r\n  @Input() layout = 'large-on-single';\r\n  \r\n  constructor(el: ElementRef, private cdr: ChangeDetectorRef) {\r\n    this.host = el.nativeElement;\r\n    if (navigator.platform.toUpperCase().indexOf('MAC')<0) {\r\n      document.addEventListener(\"webkitfullscreenchange\", (event: Event) => {\r\n        if(!window.screenTop && !window.screenY) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n      document.addEventListener(\"mozfullscreenchange\", (event: Event) => {\r\n        const win: any = window;\r\n        const isFullScreen = win.fullScreen ||\r\n                            (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n        if(!isFullScreen) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n      document.addEventListener(\"MSFullscreenChange\", (event: Event) => {\r\n        const win: any = window;\r\n        const isFullScreen = win.fullScreen ||\r\n                            (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n        if(!isFullScreen) {\r\n          this.fullScreen();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  ngOnChanges(changes: any) {\r\n    if (changes.gallery && this.layout === 'random') {\r\n      this.pickRandomLayout();\r\n    } else if (changes.layout) {\r\n      switch(this.layout) {\r\n        case 'large-on-single': this.displayType = 'c1';this.layList = [1]; break;\r\n        case 'split-on-dual': this.displayType = 'c2';this.layList = [1,2]; break;\r\n        case 'large-on-right': this.displayType = 'c3';this.layList = [1,2,3]; break;\r\n        case 'split-on-quadruple': this.displayType = 'c4';this.layList = [1,2,3,4]; break;\r\n        case 'large-on-middle': this.displayType = 'c5';this.layList = [1,2,3,4,5]; break;\r\n        case 'large-on-left': this.displayType = 'rc3';this.layList = [1,2,3]; break;\r\n        case 'large-on-sides': this.displayType = 'rc4';this.layList = [1,2,3,4]; break;\r\n        case 'large-on-top': this.displayType = 'rc5';this.layList = [1,2,3]; break;\r\n        case 'large-on-top-triple': this.displayType = 'rc6';this.layList = [1,2,3,4]; break;\r\n        case 'large-on-top-quadruple': this.displayType = 'rc7';this.layList = [1,2,3,4,5]; break;\r\n        case 'layered-on-middle': this.displayType = 'mc1';this.layList = [1,2,3,4]; break;\r\n        case 'layered-on-corners': this.displayType = 'mc2';this.layList = [1,2,3,4,5]; break;\r\n        case 'random': \r\n          if (this.gallery) {\r\n            this.pickRandomLayout();\r\n          }\r\n          break;\r\n      }\r\n    } else if (changes.maxHeight) {\r\n      if (this.maxHeight < 100) {\r\n        this.maxHeight = 100;\r\n        this.cdr.detectChanges();\r\n      } else if (this.host.clientHeight > 100 && this.host.clientHeight < this.maxHeight) {\r\n        this.maxHeight = this.host.clientHeight;\r\n        this.cdr.detectChanges();\r\n      }\r\n    }\r\n  }\r\n  private range(min: number, max: number): number {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  private pickRandomLayout() {\r\n    if (this.gallery.length === 1) {\r\n      this.displayType = 'c1';this.layList = [1];\r\n    } else if (this.gallery.length === 2) {\r\n      switch(this.range(1,2)) {\r\n        case 1: this.displayType = 'c1';this.layList = [1];break;\r\n        case 2: this.displayType = 'c2';this.layList = [1, 2];break;\r\n      }\r\n    } else if (this.gallery.length === 3) {\r\n      switch(this.range(1,5)) {\r\n        case 1: this.displayType = 'c1';this.layList = [1];break;\r\n        case 2: this.displayType = 'c2';this.layList = [1, 2];break;\r\n        case 3: this.displayType = 'c3';this.layList = [1, 2, 3];break;\r\n        case 4: this.displayType = 'rc3';this.layList = [1, 2, 3];break;\r\n        case 5: this.displayType = 'rc5';this.layList = [1, 2, 3];break;\r\n      }\r\n    } else if (this.gallery.length === 4) {\r\n      switch(this.range(1,9)) {\r\n        case 1: this.displayType = 'c1';this.layList = [1];break;\r\n        case 2: this.displayType = 'c2';this.layList = [1, 2];break;\r\n        case 3: this.displayType = 'c3';this.layList = [1, 2, 3];break;\r\n        case 4: this.displayType = 'rc3';this.layList = [1, 2, 3];break;\r\n        case 5: this.displayType = 'rc5';this.layList = [1, 2, 3];break;\r\n        case 6: this.displayType = 'c4';this.layList = [1, 2, 3, 4];break;\r\n        case 7: this.displayType = 'rc4';this.layList = [1, 2, 3, 4];break;\r\n        case 8: this.displayType = 'rc6';this.layList = [1, 2, 3, 4];break;\r\n        case 9: this.displayType = 'mc1';this.layList = [1, 2, 3, 4];break;\r\n      }\r\n    } else if (this.gallery.length >= 5) {\r\n      switch(this.range(1,12)) {\r\n        case 1: this.displayType = 'c1';this.layList = [1];break;\r\n        case 2: this.displayType = 'c2';this.layList = [1, 2];break;\r\n        case 3: this.displayType = 'c3';this.layList = [1, 2, 3];break;\r\n        case 4: this.displayType = 'rc3';this.layList = [1, 2, 3];break;\r\n        case 5: this.displayType = 'rc5';this.layList = [1, 2, 3];break;\r\n        case 6: this.displayType = 'c4';this.layList = [1, 2, 3, 4];break;\r\n        case 7: this.displayType = 'rc4';this.layList = [1, 2, 3, 4];break;\r\n        case 8: this.displayType = 'rc6';this.layList = [1, 2, 3, 4];break;\r\n        case 9: this.displayType = 'mc1';this.layList = [1, 2, 3, 4];break;\r\n        case 10: this.displayType = 'c5';this.layList = [1, 2, 3, 4, 5];break;\r\n        case 11: this.displayType = 'rc7';this.layList = [1, 2, 3, 4, 5];break;\r\n        case 12: this.displayType = 'mc2';this.layList = [1, 2, 3, 4, 5];break;\r\n      }\r\n    }\r\n  }\r\n  minHeightOf(index: number) {\r\n    let min = null;\r\n    switch(this.displayType) {\r\n      case 'c1':  min = this.maxHeight; break; // large-on-single\r\n    }\r\n    return min  ? min + 'px' : null;\r\n  }\r\n  maxHeightOf(index: number) {\r\n    let max = this.maxHeight;\r\n    switch(this.displayType) {\r\n      case 'mc1': // layered-on-middle\r\n      case 'mc2': // layered-on-corners\r\n        max = this.maxHeight / 3;\r\n        break;\r\n      case 'rc5': // large-on-top\r\n      case 'rc6': // large-on-top-triple\r\n      case 'rc7': // large-on-top-quadruple\r\n        max = this.maxHeight / 2;\r\n        break;\r\n      case 'c1': break; // large-on-single\r\n      case 'c2': break; // split-on-dual\r\n      case 'c3': // split-on-right\r\n        max = index < 2 ? (this.maxHeight / 2): max;\r\n        break;\r\n      case 'c4': // split-on-quadruple\r\n        max = this.maxHeight / 2; break; \r\n      case 'c5': // large-on-middle\r\n        max = index === 2 ? max : (this.maxHeight / 2);\r\n        break;\r\n      case 'rc3': // large-on-left\r\n        max = index === 0 ? max : (this.maxHeight / 2);\r\n        break;\r\n      case 'rc4': // large-on-sides\r\n        max = (index === 0 || index === 3) ? max : (this.maxHeight / 2);\r\n        break;\r\n    }\r\n    return max + 'px';\r\n  }\r\n  liftUpImagery(index: number) {\r\n    this.selectedIndex = this.liftOnZero ? 0 : index;\r\n    this.liftup = true;\r\n    this.onselect.emit({\r\n      index: this.selectedIndex,\r\n      action: 'lift up'\r\n    });\r\n  }\r\n  liftDownImagery() {\r\n    if (this.expanded) {\r\n      this.fullScreen();\r\n    }\r\n    this.liftup = false;\r\n    this.focused = false\r\n    this.onselect.emit({\r\n      index: this.selectedIndex,\r\n      action: 'lift down'\r\n    });\r\n  }\r\n  magnify(liftView: any) {\r\n    this.magnified = !this.magnified;\r\n    if (this.magnified) {\r\n      liftView.style.width = liftView.clientWidth + \"px\";\r\n      liftView.style.height = liftView.clientHeight + \"px\";\r\n      liftView.children[0].style.width = \"300%\";\r\n      liftView.children[0].style.height = \"300%\";\r\n    } else {\r\n      liftView.children[0].style.width = \"100%\";\r\n      liftView.children[0].style.height = \"100%\";\r\n      liftView.children[0].style.top = \"0px\";\r\n      liftView.children[0].style.left = \"0px\";\r\n    }\r\n  }\r\n  fullScreen() {\r\n    const doc: any = document;\r\n    this.expanded = !this.expanded;\r\n    if (this.expanded) {\r\n      const element: any = doc.documentElement;\r\n      if(element.requestFullscreen) {\r\n        element.requestFullscreen();\r\n      } else if(element.mozRequestFullScreen) {\r\n        element.mozRequestFullScreen();\r\n      } else if(element.webkitRequestFullscreen) {\r\n        element.webkitRequestFullscreen();\r\n      } else if(element.msRequestFullscreen) {\r\n        element.msRequestFullscreen();\r\n      }\r\n    } else {\r\n      if(doc.exitFullscreen) {\r\n        doc.exitFullscreen();\r\n      } else if(doc.mozCancelFullScreen) {\r\n        doc.mozCancelFullScreen();\r\n      } else if(doc.webkitExitFullscreen) {\r\n        doc.webkitExitFullscreen();\r\n      }\r\n    }\r\n  }\r\n  evalTop() {\r\n    let max = this.maxHeight;\r\n    switch(this.displayType) {\r\n      case 'mc1': // layered-on-middle\r\n      case 'mc2': // layered-on-corners\r\n        max = (max / 6) - 15;\r\n        break;\r\n      case 'c2': // split-on-dual\r\n      case 'c1': // large-on-single\r\n      case 'c3': // split-on-right\r\n      case 'rc4': // large-on-sides\r\n        max = (max / 2) - 15;\r\n        break;\r\n      case 'c4': // split-on-quadruple\r\n      case 'c5': // large-on-middle\r\n      case 'rc3': // large-on-left\r\n      case 'rc5': // large-on-top\r\n      case 'rc6':  // large-on-top-triple\r\n      case 'rc7':  // large-on-top-quadruple\r\n        max = (max / 4) - 15;\r\n      break;\r\n    }\r\n    return max + 'px';\r\n  }\r\n  previous() {\r\n    this.loaded = false;\r\n    this.cdr.detectChanges();\r\n    this.selectedIndex = this.selectedIndex > 0 ? this.selectedIndex - 1 : this.gallery.length - 1;\r\n    this.loaded = true;\r\n    this.cdr.detectChanges();\r\n    this.onaction.emit({\r\n      action: \"view previous\",\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n  }\r\n  next() {\r\n    this.loaded = false;\r\n    this.cdr.detectChanges();\r\n    this.selectedIndex = this.selectedIndex < this.gallery.length - 1 ? this.selectedIndex + 1 : 0;\r\n    this.loaded = true;\r\n    this.cdr.detectChanges();\r\n    this.onaction.emit({\r\n      action: \"view next\",\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n  }\r\n  videoEvent(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n      time: new Date(),\r\n      item: {\r\n        autoplay: event.target.autoplay,\r\n        controls: event.target.controls,\r\n        duration: event.target.duration,\r\n        ended: event.target.ended,\r\n        error: event.target.error,\r\n        paused: event.target.paused,\r\n        muted: event.target.muted,\r\n        currentTime: event.target.currentTime,\r\n        volume: event.target.volume\r\n      }\r\n    });\r\n  }\r\n  touchHover(event: any) {\r\n\t\tthis.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n\t}\r\n  hoverOver(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n\t\t\ttime: new Date()\r\n\t\t});\r\n\t}\r\n\thoverOut(event: any) {\r\n    this.onaction.emit({\r\n      action: event.type,\r\n      index: this.selectedIndex,\r\n      time: new Date()\r\n    });\r\n\t}\r\n\r\n  showMore(closeButton) {\r\n    if (!this.focused) {\r\n      this.focused = true;\r\n      closeButton.focus();\r\n    }\r\n    return true;\r\n  }\r\n  keyup(event: any) {\r\n\t\tconst code = event.which;\r\n\t\tif (code === 13) {\r\n      event.target.click();\r\n    }\r\n  }\r\n  private isMobile() {\r\n    return false;\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { GalleryLiftComponent } from './gallery-lift.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    GalleryLiftComponent\r\n  ],\r\n  exports: [\r\n    GalleryLiftComponent\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class GalleryLiftModule {}\r\n"]}